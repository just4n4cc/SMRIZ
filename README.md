# МПИ-23-1-1 Корчевский А.С.

## Описание
Данный сервис предоставляет функционал для добавления информации о фильмах
в базу данных, а также API методы для получения списка всех фильмов и информации
по отдельному фильму.

## Маршруты

```/film``` - GET запрос предоставляет веб форму для добавления нового фильма в базу.
По POST запросу данные формы отправляются на сервис.

```/api/films``` - API метод. GET запрос предоставляет список в формате JSON всех
фильмов, имеющихся в базе данных.

```/api/films/<id>``` - API метод. По GET запросу предоставляется информация
о фильме с выбранным id в формате JSON.

Постман коллекция запросов [ссылка](https://api.postman.com/collections/19075982-9c2ccff2-1196-4f7d-9e0a-c23437b0341a?access_key=PMAT-01HJTBB9HH5QKGS9VH3GDHZC7Q)

**Примечание: при запуске на ветке dev у методов api появляется префикс ```/dev/```

## Использование

Для работы на локальной машине необходимо установить необходимые
python-зависимости:

```pip install -r requirements.txt```

---
В файле ```src/films/tests.py``` находятся тесты на pytest-django.
Для из запуска необходимо:

```cd src && pytest```

---
Развертывание сервиса производится с помощью docker-compose:

 ```docker-compose -f docker/docker-compose.yml up```

Для того, чтобы указать ветку (dev/main) и порт на хосте, нужно
добавить файл ```.env``` в папку ```docker```.
